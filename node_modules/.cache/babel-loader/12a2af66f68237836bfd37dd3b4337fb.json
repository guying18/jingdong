{"remainingRequest":"C:\\Users\\aweffr\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\aweffr\\Desktop\\jingdong\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\aweffr\\Desktop\\jingdong\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\aweffr\\Desktop\\jingdong\\src\\store\\index.js","mtime":1635505415998},{"path":"C:\\Users\\aweffr\\Desktop\\jingdong\\babel.config.js","mtime":1635140508807},{"path":"C:\\Users\\aweffr\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aweffr\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\aweffr\\Desktop\\jingdong\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICAvLyDkuIDlvIDlp4vorr/pl67ml7botK3nianovabmmK/nqbrnmoTvvIzlm6DmraQgY2FydExpc3Qg5piv56m65a+56LGhCiAgICBjYXJ0TGlzdDogey8vIOesrOS4gOWxgue6p+aYr+WVhumTumlkCiAgICAgIC8vIHNob3BJZDogewogICAgICAvLyDnrKzkuozlsYLmmK/llYblk4FpZAogICAgICAvLyDnrKzkuozoua3lhoXlrrnmmK/llYblk4HlhoXlrrnlkozotK3nianmlbDph48KICAgICAgLy8gICBwcm9kdWN0SWQ6IHsKICAgICAgLy8gICAgIF9pZDogJzEnLAogICAgICAvLyAgICAgbmFtZTogJ+eVquiMhDI1MGcv5Lu9JywKICAgICAgLy8gICAgIGltZ1VybDogJ2h0dHA6Ly93d3cuZGVsbC1sZWUuY29tL2ltZ3MvdnVlMy90b21hdG8ucG5nJywKICAgICAgLy8gICAgIHNhbGVzOiAxMCwKICAgICAgLy8gICAgIHByaWNlOiAzMy42LAogICAgICAvLyAgICAgb2xkUHJpY2U6IDM5LjYsCiAgICAgIC8vICAgICBjb3VudDogMAogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBjaGFuZ2VDYXJ0SXRlbUluZm86IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtSW5mbyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBwcm9kdWN0SWQgPSBwYXlsb2FkLnByb2R1Y3RJZCwKICAgICAgICAgIHByb2R1Y3RJbmZvID0gcGF5bG9hZC5wcm9kdWN0SW5mbywKICAgICAgICAgIG51bSA9IHBheWxvYWQubnVtOwogICAgICB2YXIgc2hvcEluZm8gPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdOwoKICAgICAgaWYgKCFzaG9wSW5mbykgewogICAgICAgIHNob3BJbmZvID0ge307CiAgICAgIH0KCiAgICAgIHZhciBwcm9kdWN0ID0gc2hvcEluZm9bcHJvZHVjdElkXTsKCiAgICAgIGlmICghcHJvZHVjdCkgewogICAgICAgIHByb2R1Y3QgPSBwcm9kdWN0SW5mbzsKICAgICAgICBwcm9kdWN0LmNvdW50ID0gMDsKICAgICAgfQoKICAgICAgcHJvZHVjdC5jb3VudCArPSBudW07CgogICAgICBpZiAobnVtID4gMCkgewogICAgICAgIHByb2R1Y3QuY2hlY2sgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAocHJvZHVjdC5jb3VudCA8IDApIHsKICAgICAgICBwcm9kdWN0LmNvdW50ID0gMDsKICAgICAgfSBlbHNlIGlmIChwcm9kdWN0LmNvdW50ID4gMTApIHsKICAgICAgICBwcm9kdWN0LmNvdW50ID0gMTA7CiAgICAgIH0KCiAgICAgIHNob3BJbmZvW3Byb2R1Y3RJZF0gPSBwcm9kdWN0OwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdID0gc2hvcEluZm87IC8vIGNvbnNvbGUubG9nKHNob3BJZCwgcHJvZHVjdElkLCBwcm9kdWN0SW5mbykKICAgIH0sCiAgICBjaGFuZ2VDYXJ0SXRlbUNoZWNrZWQ6IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtQ2hlY2tlZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBwcm9kdWN0SWQgPSBwYXlsb2FkLnByb2R1Y3RJZDsKICAgICAgdmFyIHByb2R1Y3QgPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdW3Byb2R1Y3RJZF07CiAgICAgIHByb2R1Y3QuY2hlY2sgPSAhcHJvZHVjdC5jaGVjazsKICAgIH0sCiAgICBjbGVhbkNhcnRQcm9kdWN0czogZnVuY3Rpb24gY2xlYW5DYXJ0UHJvZHVjdHMoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkOwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdID0ge307CiAgICB9LAogICAgc2V0Q2FydEl0ZW1zQ2hlY2tlZDogZnVuY3Rpb24gc2V0Q2FydEl0ZW1zQ2hlY2tlZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBhbGxDaGVja2VkID0gcGF5bG9hZC5hbGxDaGVja2VkOwogICAgICB2YXIgcHJvZHVjdExpc3QgPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdOwoKICAgICAgaWYgKHByb2R1Y3RMaXN0KSB7CiAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9kdWN0TGlzdCkgewogICAgICAgICAgdmFyIHByb2R1Y3QgPSBwcm9kdWN0TGlzdFtpXTsKCiAgICAgICAgICBpZiAoYWxsQ2hlY2tlZCkgewogICAgICAgICAgICBwcm9kdWN0LmNoZWNrID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwcm9kdWN0LmNoZWNrID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGFjdGlvbnM6IHt9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["C:/Users/aweffr/Desktop/jingdong/src/store/index.js"],"names":["createStore","state","cartList","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","num","shopInfo","product","count","check","changeCartItemChecked","cleanCartProducts","setCartItemsChecked","allChecked","productList","i","actions","modules"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,eAAeA,WAAW,CAAC;AACzBC,EAAAA,KAAK,EAAE;AACL;AACAC,IAAAA,QAAQ,EAAE,CACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdQ;AAFL,GADkB;AAqBzBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,kBADS,8BACWH,KADX,EACkBI,OADlB,EAC2B;AAClC,UACEC,MADF,GAEID,OAFJ,CACEC,MADF;AAAA,UACUC,SADV,GAEIF,OAFJ,CACUE,SADV;AAAA,UACqBC,WADrB,GAEIH,OAFJ,CACqBG,WADrB;AAAA,UACkCC,GADlC,GAEIJ,OAFJ,CACkCI,GADlC;AAGA,UAAIC,QAAQ,GAAGT,KAAK,CAACC,QAAN,CAAeI,MAAf,CAAf;;AACA,UAAI,CAACI,QAAL,EAAe;AAAEA,QAAAA,QAAQ,GAAG,EAAX;AAAe;;AAChC,UAAIC,OAAO,GAAGD,QAAQ,CAACH,SAAD,CAAtB;;AACA,UAAI,CAACI,OAAL,EAAc;AACZA,QAAAA,OAAO,GAAGH,WAAV;AACAG,QAAAA,OAAO,CAACC,KAAR,GAAgB,CAAhB;AACD;;AACDD,MAAAA,OAAO,CAACC,KAAR,IAAiBH,GAAjB;;AACA,UAAIA,GAAG,GAAG,CAAV,EAAa;AAAEE,QAAAA,OAAO,CAACE,KAAR,GAAgB,IAAhB;AAAsB;;AACrC,UAAIF,OAAO,CAACC,KAAR,GAAgB,CAApB,EAAuB;AACrBD,QAAAA,OAAO,CAACC,KAAR,GAAgB,CAAhB;AACD,OAFD,MAEO,IAAID,OAAO,CAACC,KAAR,GAAgB,EAApB,EAAwB;AAC7BD,QAAAA,OAAO,CAACC,KAAR,GAAgB,EAAhB;AACD;;AACDF,MAAAA,QAAQ,CAACH,SAAD,CAAR,GAAsBI,OAAtB;AACAV,MAAAA,KAAK,CAACC,QAAN,CAAeI,MAAf,IAAyBI,QAAzB,CAnBkC,CAoBlC;AACD,KAtBQ;AAuBTI,IAAAA,qBAvBS,iCAuBcb,KAvBd,EAuBqBI,OAvBrB,EAuB8B;AACrC,UAAQC,MAAR,GAA8BD,OAA9B,CAAQC,MAAR;AAAA,UAAgBC,SAAhB,GAA8BF,OAA9B,CAAgBE,SAAhB;AACA,UAAMI,OAAO,GAAGV,KAAK,CAACC,QAAN,CAAeI,MAAf,EAAuBC,SAAvB,CAAhB;AACAI,MAAAA,OAAO,CAACE,KAAR,GAAgB,CAACF,OAAO,CAACE,KAAzB;AACD,KA3BQ;AA4BTE,IAAAA,iBA5BS,6BA4BUd,KA5BV,EA4BiBI,OA5BjB,EA4B0B;AACjC,UAAQC,MAAR,GAAmBD,OAAnB,CAAQC,MAAR;AACAL,MAAAA,KAAK,CAACC,QAAN,CAAeI,MAAf,IAAyB,EAAzB;AACD,KA/BQ;AAgCTU,IAAAA,mBAhCS,+BAgCYf,KAhCZ,EAgCmBI,OAhCnB,EAgC4B;AACnC,UAAQC,MAAR,GAA+BD,OAA/B,CAAQC,MAAR;AAAA,UAAgBW,UAAhB,GAA+BZ,OAA/B,CAAgBY,UAAhB;AACA,UAAMC,WAAW,GAAGjB,KAAK,CAACC,QAAN,CAAeI,MAAf,CAApB;;AACA,UAAIY,WAAJ,EAAiB;AACf,aAAK,IAAMC,CAAX,IAAgBD,WAAhB,EAA6B;AAC3B,cAAMP,OAAO,GAAGO,WAAW,CAACC,CAAD,CAA3B;;AACA,cAAIF,UAAJ,EAAgB;AACdN,YAAAA,OAAO,CAACE,KAAR,GAAgB,KAAhB;AACD,WAFD,MAEO;AACLF,YAAAA,OAAO,CAACE,KAAR,GAAgB,IAAhB;AACD;AACF;AACF;AACF;AA7CQ,GArBc;AAoEzBO,EAAAA,OAAO,EAAE,EApEgB;AAsEzBC,EAAAA,OAAO,EAAE;AAtEgB,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    // 一开始访问时购物车是空的，因此 cartList 是空对象\n    cartList: {\n      // 第一层级是商铺id\n      // shopId: {\n      // 第二层是商品id\n      // 第二蹭内容是商品内容和购物数量\n      //   productId: {\n      //     _id: '1',\n      //     name: '番茄250g/份',\n      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n      //     sales: 10,\n      //     price: 33.6,\n      //     oldPrice: 39.6,\n      //     count: 0\n      //   }\n      // }\n\n    }\n  },\n  mutations: {\n    changeCartItemInfo (state, payload) {\n      const {\n        shopId, productId, productInfo, num\n      } = payload\n      let shopInfo = state.cartList[shopId]\n      if (!shopInfo) { shopInfo = {} }\n      let product = shopInfo[productId]\n      if (!product) {\n        product = productInfo\n        product.count = 0\n      }\n      product.count += num\n      if (num > 0) { product.check = true }\n      if (product.count < 0) {\n        product.count = 0\n      } else if (product.count > 10) {\n        product.count = 10\n      }\n      shopInfo[productId] = product\n      state.cartList[shopId] = shopInfo\n      // console.log(shopId, productId, productInfo)\n    },\n    changeCartItemChecked (state, payload) {\n      const { shopId, productId } = payload\n      const product = state.cartList[shopId][productId]\n      product.check = !product.check\n    },\n    cleanCartProducts (state, payload) {\n      const { shopId } = payload\n      state.cartList[shopId] = {}\n    },\n    setCartItemsChecked (state, payload) {\n      const { shopId, allChecked } = payload\n      const productList = state.cartList[shopId]\n      if (productList) {\n        for (const i in productList) {\n          const product = productList[i]\n          if (allChecked) {\n            product.check = false\n          } else {\n            product.check = true\n          }\n        }\n      }\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"]}]}